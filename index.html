<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="./docs/vue.css">
</head>
<body>
  <div id="app"></div>
  <script>
    window.$docsify = {
      name: '',
      repo: '',
      loadSidebar: true, // 自定义侧边栏
    }
  </script>
  <!-- Docsify v4 -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/mini-sandbox@0.2.1"></script> -->
  <script src="./dist/index.umd.js"></script>
  <script src="./docs/docsify.js"></script>
  <script>
    function initMiniSandbox(hook) {
      hook.beforeEach(function(content) {
        return content.replace(/```\s?html\s\[(.*)\]\n*(.*?)\n*```/gm, (...arg) => {
          console.log(arg)
          return `<div class="mini-sandbox-docsify" style="border: 1px solid red">&&</div>`
        })
        return content
      })
      hook.ready(function() {
        const arr = document.querySelectorAll('.mini-sandbox-docsify')
        for (const el of arr) {
          new MiniSandbox({
            el: el,
            files: {
              'index.html': {
                defaultValue: '123'
              }
            },
            defaultConfig: {
              autoRun: true,
              height: '300px',
            }
          })
        }
      })
    }
    $docsify.plugins = [].concat(
      $docsify.plugins,
      initMiniSandbox,
    )
  </script>
</body>
</html>
